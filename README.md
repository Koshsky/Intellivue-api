# Intellivue API

Программа для взаимодействия с медицинскими мониторами Philips IntelliVue через сетевой протокол.

## Описание

Программа состоит из двух компонентов:
1. **Intellivue** - основное приложение для подключения к монитору и получения данных
2. **Receiver** - приложение для приема и отображения JSON-данных от основного приложения

## Терминология

- **Монитор** - медицинский монитор Philips IntelliVue, с которого получаются данные
- **Ресивер** - программа, которая принимает и отображает данные в формате JSON
- **Хост** - компьютер, на котором запущено основное приложение
- **Порт** - сетевой порт для TCP-соединения

## Установка

### Windows

1. Скачайте последнюю версию программы из раздела Releases
2. Распакуйте архив в удобное место
3. В распакованной папке вы найдете:
   - `intellivue.exe` - основное приложение
   - `receiver.exe` - приложение-ресивер

### Linux

1. Установите Go (версия 1.16 или выше)
2. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Koshsky/Intellivue-api.git
   cd Intellivue-api
   ```
3. Соберите программу:
   ```bash
   go build -o intellivue ./cmd/intellivue
   go build -o receiver ./cmd/receiver
   ```

## Использование

### Запуск ресивера

Ресивер должен быть запущен до запуска основного приложения.

```bash
# Windows
receiver.exe -port 80

# Linux
./receiver -port 80
```

Параметры ресивера:
- `-port` - порт для прослушивания (по умолчанию: 80)
- `-help` - показать справку

### Запуск основного приложения

```bash
# Windows
intellivue.exe -monitor 192.168.1.100 -receiver 192.168.1.200 -numeric -alarms

# Linux
./intellivue -monitor 192.168.1.100 -receiver 192.168.1.200 -numeric -alarms
```

Параметры основного приложения:
- `-monitor` - address:port монитора (обязательный параметр)
- `-receiver` - address:port ресивера (обязательный параметр)
- `-numeric` - собирать числовые данные (опционально)
- `-alarms` - собирать данные о тревогах (опционально)
- `-numeric-period` - период опроса числовых данных в миллисекундах (по умолчанию: 1000)
- `-alarms-period` - период опроса данных о тревогах в миллисекундах (по умолчанию: 1000)
- `-help` - показать справку

> **Примечание:** Периоды опроса не должны быть меньше 100 мс для предотвращения перегрузки монитора и сети.

## Примеры использования

1. Получение только числовых данных с периодом опроса 2 секунды:
```bash
./intellivue -monitor 192.168.1.100:2575 -receiver 192.168.1.200:80 -numeric -numeric-period 2000
```

2. Получение только данных о тревогах с периодом опроса 500 мс:
```bash
./intellivue -monitor 192.168.1.100:2575 -receiver 192.168.1.200:80 -alarms -alarms-period 500
```

3. Получение всех данных с разными периодами опроса:
```bash
./intellivue -monitor 192.168.1.100:2575 -receiver 192.168.1.200:80 -numeric -alarms -numeric-period 1000 -alarms-period 500
```

4. Получение всех данных с минимальными периодами опроса:
```bash
./intellivue -monitor 192.168.1.100:2575 -receiver 192.168.1.200:80 -numeric -alarms -numeric-period 100 -alarms-period 100
```

## Возможные проблемы и их решения

### Проблемы с подключением к монитору

1. **Ошибка "Connection refused"**
   - Проверьте правильность IP-адреса монитора
   - Убедитесь, что монитор включен и подключен к сети
   - Проверьте настройки сети монитора

2. **Ошибка "Connection timeout"**
   - Проверьте сетевое соединение между хостом и монитором
   - Убедитесь, что нет блокировки файрволом
   - Проверьте настройки сети монитора

### Проблемы с отправкой данных на ресивер

1. **Ошибка "Connection refused"**
   - Убедитесь, что ресивер запущен
   - Проверьте правильность IP-адреса ресивера
   - Проверьте, что порт не занят другим приложением

2. **Ошибка "TCP Window Full" или "TCP ZeroWindow"**
   - Увеличьте размер буфера в настройках сети
   - Проверьте загрузку сети
   - Уменьшите частоту отправки данных

### Проблемы с данными

1. **Пустые JSON-данные**
   - Проверьте, что монитор передает данные
   - Убедитесь, что выбраны правильные типы данных (-numeric или -alarms)
   - Проверьте настройки монитора

2. **Некорректные данные**
   - Проверьте версию прошивки монитора
   - Убедитесь, что монитор поддерживает запрашиваемые данные
   - Проверьте настройки монитора

## Требования к системе

### Минимальные требования
- CPU: 1 GHz
- RAM: 512 MB
- Сетевая карта: 100 Mbps
- ОС: Windows 7/10/11 или Linux

### Рекомендуемые требования
- CPU: 2 GHz
- RAM: 1 GB
- Сетевая карта: 1 Gbps
- ОС: Windows 10/11 или Linux

## Безопасность

1. **Сетевая безопасность**
   - Используйте защищенную сеть
   - Настройте файрвол для ограничения доступа
   - Используйте VPN при необходимости

2. **Данные**
   - Данные передаются в открытом виде
   - При необходимости используйте шифрование на уровне сети
   - Следите за безопасностью ресивера

## Поддержка

При возникновении проблем:
1. Проверьте раздел "Возможные проблемы и их решения"
2. Проверьте логи программы
3. Создайте issue в репозитории проекта

## Лицензия

Программа распространяется под лицензией MIT. Подробности в файле LICENSE. 